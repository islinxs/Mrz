## HTTP网络体系
#### Web网页呈现的过程
- 客户端（浏览器）发送请求（ULR）通过网络到达服务器。
- 服务器运算后，生成文件，将文件通过网络，返回给客户端
- 客户端解析文件呈现。

####客户端（Client）
- 为客户提供本地服务的程序

#### 服务器（Server）
- 给客户提供计算服务的硬件设备或者软件程序。
- 硬件意义的服务器: 一台超高性能的计算机
- 软件意义的服务器: 程序员所写关于服务器的代码

#### 通信层
- 应用层 -- 传输html文件
	- HTTP 协议。
- 传输层（TCP层） -- 建立可靠的信道
	- TCP（Transmission Control Protocol，传输控制协议）
	- UDP（User Data Protocol，用户数据报协议）
- 网络层（IP层）-- 每台电脑的标识
	- IP（Internet Protocol，网络互连协议）
![](http://i.imgur.com/enIkdSm.png)![](http://i.imgur.com/iP5gli7.png)

HTTP传送就好比封装信，信封，邮局打包包裹，装载集装箱，邮轮运输。
HTTP接收拆封就好比邮轮抵达，集装箱卸载，拆封打包好的包裹，传递信封，最后读信的内容。

俄罗斯套娃也是这个道理。

----------

## HTTP协议
- 客户端: 请求访问文本或图像等资源的一端
- 服务器端: 提供资源响应的一端。
- 连接通信: 在一条通信线路上必定有一端是客户端，另一端是服务器端。 
- 发起请求: 必须客户端先发出请求后,服务器端响应并请求返回

#### 浏览器与服务器之间通信过程要经历四个步骤
1. 通过ip识别进行TCP连接
2. 浏览器打包内容通过请求报文发送请求信息
3. 服务器接收请求信息并通过响应报文回送数据
4. 浏览器接收回送信息后断开连接

![](http://i.imgur.com/XdX2esg.png)
![](http://i.imgur.com/q0KcPI1.png)

### 请求报文
#### 请求头
- 第一行
	* 请求方法 (常用的 GET POST)
	* 请求资源的名字 URI  (也就是文件路径)
	* 协议版本（目前都是HTTP/1.1）
- 请求首部字段（可选的、可配置的. 名值段结构 ）
中间用空行隔开(请求脖)
- 请求体
	- 内容实体构成的

### 响应报文
#### 响应头 
- 第一行
	* 协议版本
	* 状态码
	* 状态码短语（解释说明状态码的意义）
- 响应首部字段（可选的、可配置的. 名值段结构）
中间用空行隔开
- 响应体
	- 从服务器获得的数据

![](http://i.imgur.com/mON9dNm.png)

### 报文请求方法
**GET方法没有请求体实体内容**

**POST方法有请求体实体内容**

**GET方法的使用频率远远高于POST方法**

![](http://i.imgur.com/ub9XHT7.png)
![](http://i.imgur.com/lKlpDKS.png)
![](http://i.imgur.com/8U20pqT.png)

----------

## URL

/ 表示根目录 

\#sharp  锚链接

:80 端口号(HTTP服务端口)

? 分隔符

& 分割各个名值段

= 连接名值段

查询文件路径指的是查询某个资源

**DNS: 完成IP地址和域名之间的映射关系**

比如: www.baidu.com  ===  220.181.112.224

IP地址是交给计算机记忆的. 而人类只能记住域名

![](http://i.imgur.com/xWB5eJW.png)

## 端口号
- 物理端口
	- 物理存在的端口，
	- 如ADSL 集线器  交换机 路由器上用于连接其他网络设备的接口
- 逻辑端口
	- 逻辑意义上用于区分服务的端口，如TCP/IP协议中的服务端口
	- 端口号的默认取值范围从0到65535
- 重点: 用于浏览网页服务的80端口，用于FTP服务的21端口等。
- 为了对端口进行区分，将每个端口进行了编号，这就是端口号。

![](http://i.imgur.com/FnEjDIX.png)

熟知端口号已经被系统所占. (80端口专门提供HTTP服务)

建议申请端口号范围: 1024-65535

一个IP地址允许向外发布不限数量的端口号

IP地址对应一台机器.而一台机器可以有很多端口提供不同的服务

#### Socket (孔 插座 套接字)
##### 网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为socket 用于描述IP地址和端口

**Socket = IP + Port**
**Socket = IP地址 + 端口号**
**其背后就是端口号所提供的一个服务**

![](http://i.imgur.com/aXJCYKh.png)

## 状态码
![](http://i.imgur.com/0E2grDj.png)

- **200 成功**
- 204 请求成功但没有信息可以返回
- 206 返回部分内容
- 300 重定向其他服务器.永远改变位置
- 302 重定向其他服务器 暂时改变位置
- 303 重定向其他服务器 临时改变位置
- **304 重定向到浏览器的缓存. 不改变主体内容  Not Modified**
- 400 存在语法错误的请求报文
- 401 未授权
- 403 禁止访问
- **404 没找到  Not Found 无法找到请求的资源**
- **500 服务器内部错误  Internal Server Error**