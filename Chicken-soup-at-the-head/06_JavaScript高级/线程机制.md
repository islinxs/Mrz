## 线程机制

1.进程：程序的一次执行, 它占有一片独有的内存空间

2.线程：CPU的基本调度单位, 是程序执行的一个完整流程

3.进程与线程

  * 应用程序必须运行在某个进程的某个线程上
  * 一个进程中一般至少有一个运行的线程: 主线程,启动后自动创建
  * 一个进程中也可以同时运行多个线程, 我们会说程序是多线程运行的
  * 一个进程内的数据可以供其中的多个线程直接共享
  * 多个进程之间的数据是不能直接共享的
  * 进程池: 保存多个线程对象的容器,实现线程对象的反复利用

多进程运行: 一个应用程序可以同时启动多个实例运动. 比如chrome浏览器

多线程运行: 在一个进程内, 同时有多个线程可以运行

**多线程**

  * 优点: 提高CPU利用率
  * 缺点: 创建多线程的开销,线程间切换的开销,死锁与状态同步问题
 
**单线程**

  * 优点:顺序编程简单易懂
  * 缺点:效率低
  
JS是单线程的语言. 但在H5中Web Workers可以多线程运行

单进程浏览器 : firefox / 老版IE

多进程浏览器: chrome / 新版IE

浏览器都是多线程运行. 可在任务管理器中查看

	(* 阻塞与非阻塞
	  * I/O (了解)
	    * 阻塞I/O: 调用时, 应用程序需要等待IO完成才返回结果
	    * 非阻塞I/O: 调用之后立即返回, 需要通过轮询得到IO的结果数据
	  * 非I/O
	    * 阻塞: 代码的执行导致所在的线程暂停, 不能继续执行 --->alert()
	    * 非阻塞 : 其它代码
	* 同步与异步
	  * 它们描述的是调用执行功能程序的方式
	  * 同步: 就是在发出一个功能调用时，在没有得到结果之前，该调用就不返回.
	  * 异步: 当一个异步过程调用发出后，调用者不能立刻得到结果, 但会立即返回;
	        实际处理这个调用的部分在完成后，通过通知或回调来通知调用者
	* 并发与并行(了解)
	  * 并行: 多个事件在同一时刻发生
	  * 并发: 指多个事件在同一时间间隔内发生)

![](http://i.imgur.com/yZsgEbV.png)

----------

## 浏览器内核

浏览器内核: 支持浏览器运行的最核心的程序

* Chrome, Safar内核i: webkit
* firefox内核: Gecko
* IE内核: Trident
* 360,搜狗等国内浏览器内核: Trident + webkit

**内核模块**

- 主线程:
  * JS引擎模块: 负责JS程序的编译与运行
  * Html,Css文档解析模块 : 负责页面文本的解析
  * Dom/Css模块 : 负责Dom/Css在内存中的相关处理
  * 布局和渲染模块 : 负责页面的布局和效果的绘制
  - 文本 --> 对象 --> 布局 --> 渲染
- 分线程:
  * 定时器模块 : 负责定时器的管理
  * 网络请求模块 : 负责服务器请求(常规/Ajax)
  * 事件响应模块 : 负责事件的管理