## 作用域和作用域链
**1.作用域和作用域链的理解**

1. 作用域: 一段代码所在的区域,它是静态的,在编写代码时就确定了  
2. 作用域链: 多个嵌套的作用域形成的由内到外的结构. 
3. **作用域个数查找方法   n+1作用域 (n指函数作用域)**

**2.作用域分类**

- 全局作用域
- 函数作用域
- 块作用域(ES6\ES7)可以访问到块作用域

**3. 作用域和作用链的作用**

作用域: 隔离变量，不同作用域下同名变量不会有冲突

作用域链: 查找变量

- 在当前作用域的上下文环境对象中查找对应属性, 如果有直接返回, 否则进入2
- 在上一级作用域的上下文环境对象中查找对应属性, 如果有直接返回, 否则进入3
- 再次执行2的相同操作, 直到全局作用域, 如果还找不到就报错
  

----------

##查找对象的属性 沿着原型链找 找不到 undefined

##查找变量 沿着作用域链找  找不到会报错

####函数首先创建函数执行定义. 调用的时候再执行函数体

	  var a = 2;
	  function fn1() {
	    var b = 3;
	
	    function fn2() {
	      var c = 4;
	      console.log(c);  //4
	      console.log(b);  //3
	      console.log(a);  //2
	      console.log(d);  //报错
	    }
	
	    fn2();
	  }
	  fn1();

----------

**4.作用域和上下文环境的区别和联系**

区别1

  * 全局作用域之外，每个函数都会创建自己的作用域
  * 函数作用域在函数定义时就已经确定了。而不是在函数调用时
  * 全局执行上下文环境是在 全局作用域确定之后, js代码马上执行之前创建
  * 函数执行上下文环境是在 调用函数时, 函数体代码执行之前 创建
函数每被调用一次, 都会产生一个新的执行上下文环境

区别2

  * 作用域是静态的, 只要函数定义好了就一直存在, 且不会再变化
  * 上下文环境是动态的, 调用函数时创建, 函数调用结束时上下文环境就会被释放

联系

  * 上下文环境(对象)是从属于所对应的作用域中
  * 全局上下文环境 ==> 全局作用域
  * 函数上下文环境 ==> 对应的函数使用域

		  var a = 'atguigu'; //作用域一共有三个
	
		  function fn() {
		    console.log('fn()');
		
		    function fn2() {
		      console.log('fn2()');
		    }
		
		    fn2(); //上下文对象一共有四个
		    fn2();
		  }
		
		  fn();