## 闭包

#### 当一个嵌套的内部(子)函数引用了嵌套的外部(父)函数的变量(函数)时, 就产生了闭包

#### 闭包到底是什么?
- 理解一: 闭包是嵌套的内部函数(绝大部分人)
- 理解二: 包含被引用变量(函数)的对象(极少数人)
- 通过chrome工具得知: 闭包本质是内部函数中的一个对象.包含引用的变量属性
- 注意: 闭包存在于嵌套的内部函数中
#### 产生闭包的条件
- 函数嵌套
- 内部函数引用了外部函数的数据(变量/函数)
	- 内部函数定义一次就产生一个
	- 外部函数调用一次就产生一个
#### 闭包的使用方式
- 将函数作为另一个函数的返回值
- 将函数作为实参传递给另一个函数调用
#### 闭包的作用
- 延长了局部变量的生命周期. 函数内部的变量在函数执行完后, 仍然存活在内存中
- 让函数外部可以间接操作(读写)到函数内部的数据(变量/函数)
#### 闭包的生命周期
- 产生: 在嵌套内部函数定义执行完时(创建函数对象时)就产生了(不是在调用时)
- 死亡: 在嵌套的内部函数成为垃圾对象时 
#### 闭包的应用
- 函数作为返回值 return
- 函数作为参数传递  回调函数
- 模块化: 封装一些数据以及操作数据的函数, 向外暴露一些行为
	- 暴露行为使用return   想获取函数内部什么值就return什么值
- 循环遍历加监听
- jQuery大量使用的闭包

#### 闭包的缺点和解决
- 缺点
  * 函数执行完后, 函数内的局部变量没有释放, 占用内存时间会变长
  * 容易造成内存泄露
- 解决
  * 能不用闭包就不用
  * 及时释放 f = null 让内部函数对象成为垃圾对象
